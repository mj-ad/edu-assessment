<IfModule mod_rewrite.c>
RewriteEngine On
# Serve files directly if they exist
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]


# Route everything to api.php for /students* API, else to index.php (frontend)
RewriteRule ^(students|add-students|search|students/.*)$ routes.php [QSA,L]
RewriteRule ^$ index.php [L]
</IfModule>


Header set Access-Control-Allow-Origin "*"
Header set Access-Control-Allow-Headers "Content-Type, Authorization"
Header set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"